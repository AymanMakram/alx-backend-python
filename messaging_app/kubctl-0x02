#!/bin/bash

# Task 4: Deploy blue and green versions, check logs

echo "ğŸš€ Applying blue deployment..."
kubectl apply -f blue_deployment.yaml

echo "ğŸš€ Applying green deployment..."
kubectl apply -f green_deployment.yaml

echo "ğŸ” Checking pods..."
kubectl get pods

echo "ğŸ“„ Checking logs of green deployment..."
GREEN_POD=$(kubectl get pods -l version=green -o jsonpath="{.items[0].metadata.name}")
kubectl logs $GREEN_POD

echo "âœ… Blue-Green Deployment applied successfully."
